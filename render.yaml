services:
  # ðŸ•’ 07:00 AM â€“ Pre-Market Prep
  - type: cron
    name: "0700-premarket-prep"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task premarket_prep"
    schedule: "0 12 * * *"  # 07:00 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 07:15 AM â€“ Volatility Compression Scan
  - type: cron
    name: "0715-volatility-scan"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task volatility_scan"
    schedule: "15 12 * * *"  # 07:15 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 08:15 AM â€“ Breakout / Inflection Signal Pass
  - type: cron
    name: "0815-signal-pass"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task signal_pass"
    schedule: "15 13 * * *"  # 08:15 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 09:00 AM â€“ Holdings Monitor (Morning)
  - type: cron
    name: "0900-holdings-monitor"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task holdings_monitor"
    schedule: "0 14 * * *"  # 09:00 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 09:30 AM â€“ Market Open Sync
  - type: cron
    name: "0930-market-open"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task market_open"
    schedule: "30 14 * * *"  # 09:30 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 10:30 AM â€“ Stop Health Monitor
  - type: cron
    name: "1030-stop-health"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task stop_health"
    schedule: "30 15 * * *"  # 10:30 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 12:00 PM â€“ Midday RS/Volume Refresh
  - type: cron
    name: "1200-midday-refresh"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task midday_refresh"
    schedule: "0 17 * * *"  # 12:00 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 13:30 PM â€“ Catalyst / Sentiment Check
  - type: cron
    name: "1330-sentiment-check"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task sentiment_check"
    schedule: "30 18 * * *"  # 13:30 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 15:30 PM â€“ Power Hour Signal Review
  - type: cron
    name: "1530-powerhour-review"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task powerhour_review"
    schedule: "30 20 * * *"  # 15:30 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ 16:15 PM â€“ End-of-Day Recap + Performance Log
  - type: cron
    name: "1615-eod-recap"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task recap_log"
    schedule: "15 21 * * *"  # 16:15 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ Hourly â€“ Holdings Monitor (Continuous)
  - type: cron
    name: "hourly-holdings-continuous"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task holdings_continuous"
    schedule: "0 * * * *"  # Every hour UTC
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  # ðŸ•’ Friday 17:00 PM â€“ Weekly Portfolio Health Review
  - type: cron
    name: "fri1700-portfolio-review"
    runtime: python
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task portfolio_review"
    schedule: "0 22 * * FRI"  # 17:00 EST
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false
