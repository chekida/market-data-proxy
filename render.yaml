services:
  - type: cron
    name: premarket-health-check
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "45 11 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task premarket"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: market-regime-scan
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "15 13 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task regime"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: open-range-breakout
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "30 13 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task breakout"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: sector-rs-update
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "30 14 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task sectorrs"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: top25-live-signal-scan
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "45 14 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task top25"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: midday-recheck
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "0 16 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task midday"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: afternoon-refresh
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "30 18 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task refresh"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: closing-scan
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "45 19 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task closing"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: atr-risk-update
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "10 20 * * 1-5"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task atr"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false

  - type: cron
    name: overnight-data-refresh
    runtime: python
    buildCommand: "pip install -r requirements.txt"
    schedule: "0 0 * * 2-6"
    startCommand: "/opt/render/project/src/.venv/bin/python run_scan.py --task overnight"
    envVars:
      - key: TWELVE_KEY
        value: "${TWELVE_KEY_PLACEHOLDER}"
        sync: false
      - key: FINNHUB_KEY
        value: "${FINNHUB_KEY_PLACEHOLDER}"
        sync: false
